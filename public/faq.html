<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ReverseQR - FAQ</title>
  <link rel="icon" type="image/png" href="rQR.png">
  <link rel="stylesheet" href="receiver-styles.css">
</head>
<body>
  <div class="container">
    <h1>Frequently Asked Questions</h1>
    <p class="subtitle">ReverseQR</p>

    <div style="text-align: left; margin-top: 30px; line-height: 1.8;">
      <h2 style="margin-bottom: 25px; color: var(--text-primary);">General Questions</h2>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">What even is this?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          ReverseQR is a secure, end-to-end encrypted file and message sharing service. It allows you to securely share files and text with others without creating accounts or storing data on cloud platforms.
        </p>
      </div>


      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">Is my data really private?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Yes. All messages and files are encrypted in your browser before being sent to our server. Only the intended recipient's browser can decrypt them. We never have access to your encryption keys or plaintext content.
        </p>
      </div>

      <h2 style="margin-top: 40px; margin-bottom: 25px; color: var(--text-primary);">Getting Started</h2>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">How do I send a file? (step by step guide)</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          1. Click "Send" on the home page<br>
          2. You'll receive a 3-word code and a QR code<br>
          3. Share the words with your recipient or have them scan the QR code<br>
          4. (If using the 3 word code) The recipient opens the /receiver page and enters the words to connect<br>
          5. Both parties verify the Security Fingerprint matches (if it does not, there is probably a man-in-the-middle attack) going on: DO NOT SEND ANYTHING EVEN REMOTELY PRIVATE!<br>
          6. Once he connects, he select files to send or text<br>
        </p>
      </div>


      <h2 style="margin-top: 40px; margin-bottom: 25px; color: var(--text-primary);">Sessions & Data</h2>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">How long does my session last?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Sessions automatically expire after <span id="sessionTimeout">15</span> minutes of inactivity. This helps protect your privacy by limiting the time your session remains active.
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">How long are files stored?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Files are automatically deleted after <span id="fileRetention">30</span> minutes, regardless of whether they were downloaded or not. This ensures your shared data doesn't persist on our servers.
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">But my connection is slow and I need more than 30 minutes to download the files.</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Don't worry, we didn't said the whole truth in the question above. If a file is currently being downloaded, the server will keep it available until the download is complete, even if that goes beyond the standard retention period.
        </p>
      </div>
<!--TODO-->
      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">What happens if the recipient goes offline?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          If the recipient reconnects to the session before it expires, the shared files and messages will have persisted on the server and will be available for download, Else, the receiver will need to create a new session and share a new code.
        </p>
      </div>

      <h2 style="margin-top: 40px; margin-bottom: 25px; color: var(--text-primary);">Technical Questions</h2>
<!--TODO-->
      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">What's the maximum file size?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Maximum file size is <span id="maxFileSize">100 MB</span>. This limit depends on server configuration.
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">What's the maximum message size?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Maximum text message size is <span id="maxMessageSize">1 GB</span>. This allows for very large messages while maintaining performance.
        </p>
      </div>


      <h2 style="margin-top: 40px; margin-bottom: 25px; color: var(--text-primary);">Security & Privacy</h2>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">Can the server admin see my files?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          No. All encryption and decryption happens in your browser. The server only stores encrypted data and has no access to your encryption keys. Even the server administrator cannot read your files.
          However, a malicious server operator could send a different webpage that does not encrypt the data, so only trust this service as much as its host.
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">What data do you log?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          We log IP addresses, timestamps and file size for limited time for statistics and abuse prevention.
        </p>
      </div>

      <h2 style="margin-top: 40px; margin-bottom: 25px; color: var(--text-primary);">Troubleshooting</h2>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">There is no QR code nor 3 word code </h3>
        <p style="margin: 0; color: var(--text-secondary);">
          You are probably not using HTTPS, which is reqired by webcrypto, the code that encrypts your data. Make sure the URL starts with "https://".
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">I can't scan the QR code</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Use the 3-word code to connect.
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">Files won't download</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Make sure the session hasn't expired. If you're downloading large files, the process may take a while since they first have to be decrypted.
        </p>
      </div>


      <h2 style="margin-top: 40px; margin-bottom: 25px; color: var(--text-primary);">More info (nerd stuff)</h2>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">How nuch RAM is needed?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          Unforuatly, you need about 3x the size of the files you want to send in free RAM. This is because files are base64-encoded and encrypted in memory before being sent. The same applies for receiving files, which need to be decrypted and decoded in memory before being saved.
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">How does the encryption work?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          ReverseQR uses ECDH (Elliptic Curve Diffie-Hellman) for secure key exchange and AES-256-GCM for encrypting your messages and files. Your encryption keys never leave your browser—the server cannot decrypt your content.
          However, a mailicious server operator could send a different webpage that do not encrypt the data, so only trust this service as much as its host.
        </p>
      </div>

      <div style="margin-bottom: 30px; border-left: 3px solid var(--accent, #6366f1); padding-left: 20px;">
        <h3 style="margin: 0 0 10px; color: var(--text-primary);">What's the Security Fingerprint?</h3>
        <p style="margin: 0; color: var(--text-secondary);">
          The Security Fingerprint is a 3-word combination Derived from the shared secret key established during the connection. If it does not match, the connection is likely compromised.
        </p>
      </div>


      <a href="/" class="btn" style="display: inline-block; margin-top: 20px; text-decoration: none;">← Back to Home</a>
    </div>
  </div>

  <footer class="footer">
      <a href="/cookies.html">No cookie banner?</a>
      <span class="separator">•</span>
      <a href="/legal.html">Legal Disclaimer</a>
      <span class="separator">•</span>
      <a href="/privacy.html">Privacy Policy</a>
      <span class="separator">•</span>
      <a href="/faq.html">FAQ</a>
  </footer>

  <script>
    fetch('/api/config')
      .then(res => res.json())
      .then(config => {
        const sessionEl = document.getElementById('sessionTimeout');
        const fileEl = document.getElementById('fileRetention');
        const maxFileSizeEl = document.getElementById('maxFileSize');
        const maxMessageSizeEl = document.getElementById('maxMessageSize');
        if (sessionEl) sessionEl.textContent = Math.round(config.sessionTimeout / 60000);
        if (fileEl) fileEl.textContent = Math.round(config.fileRetention / 60000);
        if (maxFileSizeEl) maxFileSizeEl.textContent = config.maxFileSizeFormatted;
        if (maxMessageSizeEl) maxMessageSizeEl.textContent = config.bodyLimitFormatted;
      })
      .catch(err => console.error('Failed to load config:', err));
  </script>
</body>
</html>
